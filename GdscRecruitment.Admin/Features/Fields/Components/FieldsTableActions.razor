@using GdscRecruitment.Common.Utilities
@using GdscRecruitment.Common.Shared.Components
@using GdscRecruitment.Common.Features.Fields.Views
@inherits OwningComponentBase<GdscRecruitment.Common.Features.Fields.FieldsService>

<MudPaper Class="pa-4 mt-4 d-flex">
    <AuthorizeView Roles="@Roles.Admin">
        <Authorized>
            <ErrorButton
                Tooltip="Select items to delete"
                Disabled="@(SelectedItems.Count == 0)"
                Icon="fa-dumpster">
            </ErrorButton>

            <MudSpacer/>

            <PrimaryButton
                Text="Open Add page"
                Href="/fields/add"
                Tooltip="Add new field">
            </PrimaryButton>
        </Authorized>

        <NotAuthorized>
            <ErrorButton
                Tooltip="Only admins can delete"
                Disabled="true"
                Icon="fa-dumpster">
            </ErrorButton>

            <MudSpacer/>

            <PrimaryButton
                Text="Open add page"
                Disabled="true"
                Tooltip="Only admins can add">
            </PrimaryButton>
        </NotAuthorized>
    </AuthorizeView>
</MudPaper>

@code {

    [Parameter]
    public HashSet<FieldResponseView> SelectedItems { get; set; } = new();

}
